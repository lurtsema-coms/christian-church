import{_ as C}from"./AppLayout.vue_vue_type_script_setup_true_lang-BIm6LAFt.js";import{d as b,j as a,c as n,o as d,b as e,k as S,l as g,h as l,v,a as u,u as w,_ as B,w as _,F as p,W as F,m as E}from"./app-DHSkvZnY.js";import"./useForwardExpose-BxPYMUL5.js";import"./Collection-6T8VAEn2.js";import"./RovingFocusGroup-BaogBCxJ.js";import"./createLucideIcon-Cc5BYitn.js";const A={class:"px-4 py-8 mx-auto space-y-8 rounded-xl border border-sidebar-border/70 dark:border-sidebar-border sm:container sm:rounded-lg sm:px-6 lg:px-8"},I={class:"pb-8"},N={class:"max-w-4xl m-auto space-y-4"},V={class:"flex flex-col gap-4 sm:flex-row"},$={class:"flex-1 space-y-2"},D={class:"space-y-2"},M={class:"flex-1 space-y-2"},U={class:"flex flex-col gap-4 sm:flex-row"},T={class:"flex-1 space-y-2"},j={class:"flex-1 space-y-2"},q={class:"flex flex-col gap-4 sm:flex-row"},z={class:"flex-1 space-y-2"},P=["src"],W={class:"flex-1 space-y-2"},Y={controls:"",class:"w-full"},Z=["src"],G={class:"!mt-8 text-right"},H=b({__name:"SermonsEdit",props:{sermon:{}},setup(f){const r=f;a(r.sermon.title),a(r.sermon.description);const m=a(r.sermon.image_url),x=a(r.sermon.audio_url),i=a(!1),s=a({title:r.sermon.title,description:r.sermon.description,image:null,audio:null}),h=o=>{const t=o.target;t.files&&t.files[0]&&(s.value.image=t.files[0])},y=o=>{const t=o.target;t.files&&t.files[0]&&(s.value.audio=t.files[0])},k=()=>{i.value=!0;const o=new FormData;o.append("_method","put"),o.append("title",s.value.title),o.append("description",s.value.description),s.value.image&&o.append("image",s.value.image),s.value.audio&&o.append("audio",s.value.audio),F.post(route("sermons.update",{sermon:r.sermon.id}),o,{preserveScroll:!0,onSuccess:()=>{},onFinish:()=>{i.value=!1},onError:()=>{i.value=!1}})};return(o,t)=>(d(),n("div",A,[t[11]||(t[11]=e("a",{class:"inline-block mb-4 font-medium text-gray-500 dark:text-white",href:"/admin_sermon"},[e("span",{class:"flex items-center space-x-2 cursor-pointer hover:opacity-70"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"size-6"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m11.25 9-3 3m0 0 3 3m-3-3h7.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})]),e("span",null,"Back to Sermons Page")])],-1)),e("div",I,[e("form",{onSubmit:S(k,["prevent"])},[e("div",N,[e("div",V,[e("div",$,[e("div",D,[t[2]||(t[2]=e("p",{class:"font-medium text-gray-500 dark:text-white"},[l("Title "),e("span",{class:"text-red-400"},"*")],-1)),g(e("input",{"onUpdate:modelValue":t[0]||(t[0]=c=>s.value.title=c),class:"text-md w-full p-[0.63rem] border text-black border-slate-300 rounded-lg focus:outline-none focus:ring-0 focus:border-[#1F4B55]",type:"text",required:"",placeholder:"Enter the title here"},null,512),[[v,s.value.title]])])])]),e("div",null,[e("div",M,[t[3]||(t[3]=e("p",{class:"font-medium text-gray-500 dark:text-white"},[l("Description "),e("span",{class:"text-red-400"},"*")],-1)),g(e("textarea",{"onUpdate:modelValue":t[1]||(t[1]=c=>s.value.description=c),class:"text-md w-full p-4 border text-black border-slate-300 rounded-lg focus:outline-none focus:ring-0 focus:border-[#1F4B55]",cols:"50",rows:"5",required:"",placeholder:"Provide a detailed description"},null,512),[[v,s.value.description]])])]),e("div",U,[e("div",T,[t[4]||(t[4]=e("label",{class:"font-medium text-gray-500 dark:text-white"},[l("Upload New Image "),e("span",{class:"text-red-400"},"*")],-1)),e("input",{class:"text-md w-full p-[0.63rem] border text-black border-slate-300 rounded-lg focus:outline-none focus:ring-0 focus:border-[#1F4B55]",type:"file",accept:"image/*",onChange:h},null,32)]),e("div",j,[t[5]||(t[5]=e("label",{class:"font-medium text-gray-500 dark:text-white"},[l("Upload New Audio "),e("span",{class:"text-red-400"},"*")],-1)),e("input",{class:"text-md w-full p-[0.63rem] border text-black border-slate-300 rounded-lg focus:outline-none focus:ring-0 focus:border-[#1F4B55]",type:"file",accept:"audio/*",onChange:y},null,32)])]),e("div",q,[e("div",z,[t[6]||(t[6]=e("label",{class:"text-xs italic text-gray-500 dark:text-white"},"Current Image:",-1)),e("img",{src:m.value,alt:"Image",class:"w-full h-full rounded-t-lg md:max-w-md md:rounded-t-none lg:rounded-l-lg"},null,8,P)]),e("div",W,[t[8]||(t[8]=e("label",{class:"text-xs italic text-gray-500 dark:text-white"},"Current Audio:",-1)),e("audio",Y,[e("source",{src:x.value,type:"audio/mpeg"},null,8,Z),t[7]||(t[7]=l(" Your browser does not support the audio element. "))])])]),e("div",G,[u(w(B),{type:"submit",disabled:i.value},{default:_(()=>[i.value?(d(),n(p,{key:0},[t[9]||(t[9]=e("svg",{class:"animate-spin inline w-4 h-4 mr-2 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8z"})],-1)),t[10]||(t[10]=l(" Submitting... "))],64)):(d(),n(p,{key:1},[l(" Submit ")],64))]),_:1},8,["disabled"])])])],32)])]))}}),J={class:"flex h-full flex-1 flex-col gap-4 rounded-xl py-4"},K={class:"relative min-h-[100vh] flex-1 rounded-xl border-sidebar-border/70 dark:border-sidebar-border md:min-h-min"},te=b({__name:"AdminSermonsEdit",props:{sermon:{}},setup(f){const r=[{title:"Edit Sermon",href:"/admin_sermons/{sermon}/edit"}];return(m,x)=>(d(),n(p,null,[u(w(E),{title:"Edit Sermon"}),u(C,{breadcrumbs:r},{default:_(()=>[e("div",J,[e("div",K,[u(H,{sermon:m.sermon},null,8,["sermon"])])])]),_:1})],64))}});export{te as default};
