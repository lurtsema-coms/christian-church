import{_ as w}from"./AppLayout.vue_vue_type_script_setup_true_lang-B2RJoc6z.js";import{d as b,j as h,q as k,C as $,c,o as u,a as r,u as i,m as D,w as o,b as e,F as _,f as C,t as a,n as m,_ as x,h as n}from"./app-CsL5EtUN.js";import{g as S,_ as A,a as N,b as P,c as E,d as T,e as V,f as B}from"./DialogTrigger.vue_vue_type_script_setup_true_lang-CcwJSaJB.js";import"./useForwardExpose-Cmrp_S1r.js";import"./Collection-DBxlOl9V.js";import"./RovingFocusGroup-Bwwqgn4c.js";import"./createLucideIcon-8I5qr-zz.js";const I={class:"flex flex-col flex-1 h-full gap-4 p-4 rounded-xl"},L={class:"p-7 relative min-h-[100vh] flex-1 rounded-xl border border-sidebar-border/70 dark:border-sidebar-border md:min-h-min"},j={class:"overflow-x-auto"},q={class:"w-full min-w-full"},F={class:"border divide-y divide-gray-200 border-sidebar-border/70 dark:border-sidebar-border"},z={key:0},U=["title"],G=["title"],H=["title"],J=["title"],K={class:"px-6 py-3 text-sm text-gray-700 whitespace-nowrap"},M={class:"px-6 py-3 text-sm text-gray-700 whitespace-nowrap"},O={class:"space-y-2 text-sm text-gray-700"},ae=b({__name:"AdminPrayer",props:{prayers:{}},setup(Q){const f=[{title:"Prayer",href:"/admin_prayer"}],p=h(null),l=k(()=>p.value||{id:0,prayer_title:"",prayer_category:"",prayer_details:"",name:"",email:"",created_at:"",is_approved:!1}),y=$({});function g(d){console.log("Toggling status for ID:",d),y.put(`/admin_prayer/${d}`,{preserveScroll:!0,onSuccess:()=>{p.value&&(p.value.is_approved=!p.value.is_approved,console.log("Updated is_approved:",p.value.is_approved))},onError:t=>{console.error("Error updating prayer:",t)}})}return(d,t)=>(u(),c(_,null,[r(i(D),{title:"Admin Prayer"}),r(w,{breadcrumbs:f},{default:o(()=>[e("div",I,[e("div",L,[e("div",j,[e("table",q,[t[8]||(t[8]=e("thead",{class:"border border-sidebar-border/70 dark:border-sidebar-border"},[e("tr",null,[e("th",{class:"px-6 py-3 text-sm tracking-wider text-left text-gray-500 uppercase whitespace-nowrap"},"Title"),e("th",{class:"px-6 py-3 text-sm tracking-wider text-left text-gray-500 uppercase whitespace-nowrap"},"Category"),e("th",{class:"px-6 py-3 text-sm tracking-wider text-left text-gray-500 uppercase whitespace-nowrap"},"Details"),e("th",{class:"px-6 py-3 text-sm tracking-wider text-left text-gray-500 uppercase whitespace-nowrap"},"Name"),e("th",{class:"px-6 py-3 text-sm tracking-wider text-left text-gray-500 uppercase whitespace-nowrap"},"DateTime"),e("th",{class:"px-6 py-3 text-sm tracking-wider text-left text-gray-500 uppercase whitespace-nowrap"},"Status"),e("th",{class:"px-6 py-3 text-sm tracking-wider text-left text-gray-500 uppercase whitespace-nowrap"},"Actions")])],-1)),e("tbody",F,[d.prayers.length===0?(u(),c("tr",z,t[1]||(t[1]=[e("td",{colspan:"7",class:"px-6 py-3 text-sm text-center text-gray-700"}," No data requests as of the moment ",-1)]))):(u(!0),c(_,{key:1},C(d.prayers,s=>(u(),c("tr",{key:s.id},[e("td",{class:"max-w-xs px-6 py-3 text-sm text-gray-700",title:s.prayer_title},a(s.prayer_title),9,U),e("td",{class:"px-6 py-3 text-sm text-gray-700",title:s.prayer_category},a(s.prayer_category),9,G),e("td",{class:"px-6 py-3 text-sm text-gray-700",title:s.prayer_details},a(s.prayer_details),9,H),e("td",{class:"px-6 py-3 text-sm text-gray-700 whitespace-nowrap",title:s.name},a(s.name),9,J),e("td",K,a(new Date(s.created_at).toLocaleDateString()),1),e("td",{class:m([s.is_approved?"text-green-500":"text-red-500","px-6 py-3 text-sm font-medium whitespace-nowrap"])},a(s.is_approved?"Active":"Inactive"),3),e("td",M,[r(i(S),null,{default:o(()=>[r(i(A),{"as-child":""},{default:o(()=>[r(i(x),{onClick:v=>p.value=s},{default:o(()=>t[2]||(t[2]=[n(" View ")])),_:2},1032,["onClick"])]),_:2},1024),r(i(N),{class:"sm:max-w-xl"},{default:o(()=>[r(i(P),null,{default:o(()=>[r(i(E),null,{default:o(()=>[n(a(l.value.prayer_title),1)]),_:1}),r(i(T),null,{default:o(()=>[n(a(l.value.prayer_category),1)]),_:1})]),_:1}),e("div",O,[e("p",null,[t[3]||(t[3]=e("strong",null,"Details:",-1)),n(" "+a(l.value.prayer_details),1)]),e("p",null,[t[4]||(t[4]=e("strong",null,"Name:",-1)),n(" "+a(l.value.name),1)]),e("p",null,[t[5]||(t[5]=e("strong",null,"Email:",-1)),n(" "+a(l.value.email),1)]),e("p",null,[t[6]||(t[6]=e("strong",null,"Status: ",-1)),e("span",{class:m(l.value.is_approved?"text-green-600":"text-red-600")},a(l.value.is_approved?"Active":"Inactive"),3)]),e("p",null,[t[7]||(t[7]=e("strong",null,"Date:",-1)),n(" "+a(new Date(l.value.created_at).toLocaleDateString()),1)])]),r(i(V),{class:"justify-end"},{default:o(()=>[r(i(B),{asChild:""},{default:o(()=>[r(i(x),{variant:l.value.is_approved?"destructive":"default",onClick:t[0]||(t[0]=v=>g(l.value.id))},{default:o(()=>[n(a(l.value.is_approved?"Deactivate":"Activate"),1)]),_:1},8,["variant"])]),_:1})]),_:1})]),_:1})]),_:2},1024)])]))),128))])])])])])]),_:1})],64))}});export{ae as default};
